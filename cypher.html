<!doctype html><html lang=fr class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Atelier Neo4j"><meta name=author content="Hmida Hmida"><link rel=canonical href=https://hhmida.github.io/tp-nosql-neo4j/cypher.html><link rel=icon href=assets/images/neo4j-logo.svg><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.4.4"><title>Cypher - Bases de données NoSQL avec Neo4j</title><link rel=stylesheet href=assets/stylesheets/main.6b80c2a2.min.css><link rel=stylesheet href=assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=assets/stylesheets/extra.css><script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=red> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#premiers-pas-avec-cypher class=md-skip> Aller au contenu </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=En-tête> <a href=index.html title="Bases de données NoSQL avec Neo4j" class="md-header__button md-logo" aria-label="Bases de données NoSQL avec Neo4j" data-md-component=logo> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M6.201 0a3.035 3.035 0 0 0-2.694 4.425 10.399 10.399 0 0 0-2.249 6.46c0 3.365 1.603 6.358 4.086 8.258A4.511 4.511 0 0 0 9.84 24a4.51 4.51 0 0 0 4.254-3.016 10.383 10.383 0 0 0 7.941-9.818c1.78-3.163.06-7.152-3.463-8.027A10.378 10.378 0 0 0 8.45.997 3.015 3.015 0 0 0 6.201 0zm5.447.986c2.246 0 4.315.746 5.975 2.004a5.493 5.493 0 1 0 3.865 8.973 9.9 9.9 0 0 1-7.24 8.476c.566-2.69-1.313-5.016-3.663-5.398-2.175-.353-4.578.91-5.163 3.541a9.87 9.87 0 0 1-3.673-7.697c0-2.268.758-4.346 2.04-6.015A3.024 3.024 0 0 0 6.2 6.071a3.038 3.038 0 0 0 2.568-4.658 9.846 9.846 0 0 1 2.879-.427zm-.96.588a.812.812 0 0 0-.573 1.387.812.812 0 1 0 .572-1.387zm2.128.748a.812.812 0 1 0 .002 1.624.812.812 0 0 0-.002-1.624zM5.193 6.748a.812.812 0 1 0 .002 1.624.812.812 0 0 0-.002-1.624zm.135 2.225a.812.812 0 0 0-.577 1.385.812.812 0 1 0 .577-1.385zm.496 2.357a.812.812 0 1 0 .002 1.624.812.812 0 0 0-.002-1.624zm1.114 2.115a.812.812 0 0 0-.573 1.387.812.812 0 1 0 .572-1.387zm10.156 1.211a.812.812 0 0 0-.573 1.387.812.812 0 1 0 .573-1.387zM15.62 16.4a.812.812 0 0 0-.576 1.386.812.812 0 1 0 .576-1.386z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Bases de données NoSQL avec Neo4j </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Cypher </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=red aria-label="Basculer au mode sombre" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Basculer au mode sombre" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=red aria-label="Basculer au mode clair" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Basculer au mode clair" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Rechercher placeholder=Rechercher autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Effacer tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initialisation de la recherche </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Onglets data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=index.html class=md-tabs__link> Introduction </a> </li> <li class=md-tabs__item> <a href=installation.html class=md-tabs__link> Installation </a> </li> <li class=md-tabs__item> <a href=cypher.html class="md-tabs__link md-tabs__link--active"> Cypher </a> </li> <li class=md-tabs__item> <a href=etl.html class=md-tabs__link> Importation de données </a> </li> <li class=md-tabs__item> <a href=python.html class=md-tabs__link> Pilote Python </a> </li> <li class=md-tabs__item> <a href=cluster.html class=md-tabs__link> Cluster Neo4j </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=index.html title="Bases de données NoSQL avec Neo4j" class="md-nav__button md-logo" aria-label="Bases de données NoSQL avec Neo4j" data-md-component=logo> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M6.201 0a3.035 3.035 0 0 0-2.694 4.425 10.399 10.399 0 0 0-2.249 6.46c0 3.365 1.603 6.358 4.086 8.258A4.511 4.511 0 0 0 9.84 24a4.51 4.51 0 0 0 4.254-3.016 10.383 10.383 0 0 0 7.941-9.818c1.78-3.163.06-7.152-3.463-8.027A10.378 10.378 0 0 0 8.45.997 3.015 3.015 0 0 0 6.201 0zm5.447.986c2.246 0 4.315.746 5.975 2.004a5.493 5.493 0 1 0 3.865 8.973 9.9 9.9 0 0 1-7.24 8.476c.566-2.69-1.313-5.016-3.663-5.398-2.175-.353-4.578.91-5.163 3.541a9.87 9.87 0 0 1-3.673-7.697c0-2.268.758-4.346 2.04-6.015A3.024 3.024 0 0 0 6.2 6.071a3.038 3.038 0 0 0 2.568-4.658 9.846 9.846 0 0 1 2.879-.427zm-.96.588a.812.812 0 0 0-.573 1.387.812.812 0 1 0 .572-1.387zm2.128.748a.812.812 0 1 0 .002 1.624.812.812 0 0 0-.002-1.624zM5.193 6.748a.812.812 0 1 0 .002 1.624.812.812 0 0 0-.002-1.624zm.135 2.225a.812.812 0 0 0-.577 1.385.812.812 0 1 0 .577-1.385zm.496 2.357a.812.812 0 1 0 .002 1.624.812.812 0 0 0-.002-1.624zm1.114 2.115a.812.812 0 0 0-.573 1.387.812.812 0 1 0 .572-1.387zm10.156 1.211a.812.812 0 0 0-.573 1.387.812.812 0 1 0 .573-1.387zM15.62 16.4a.812.812 0 0 0-.576 1.386.812.812 0 1 0 .576-1.386z"/></svg> </a> Bases de données NoSQL avec Neo4j </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=index.html class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=installation.html class=md-nav__link> Installation </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Cypher <span class="md-nav__icon md-icon"></span> </label> <a href=cypher.html class="md-nav__link md-nav__link--active"> Cypher </a> <nav class="md-nav md-nav--secondary" aria-label="Table des matières"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table des matières </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#base-de-donnees-exemple-movie-graph class=md-nav__link> Base de données exemple : Movie Graph </a> <nav class=md-nav aria-label="Base de données exemple : Movie Graph"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#noeuds-et-relations class=md-nav__link> Noeuds et relations </a> </li> <li class=md-nav__item> <a href=#proprietes class=md-nav__link> Propriétés </a> </li> <li class=md-nav__item> <a href=#creer-la-base-de-donnees class=md-nav__link> Créer la base de données </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pattern-cypher class=md-nav__link> Pattern Cypher </a> </li> <li class=md-nav__item> <a href=#lecture-de-donnees class=md-nav__link> Lecture de données </a> </li> <li class=md-nav__item> <a href=#ecriture-de-donnees class=md-nav__link> Écriture de données </a> <nav class=md-nav aria-label="Écriture de données"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#insertion-de-noeuds class=md-nav__link> Insertion de noeuds </a> </li> <li class=md-nav__item> <a href=#mise-a-jour-de-noeuds class=md-nav__link> Mise à jour de noeuds </a> </li> <li class=md-nav__item> <a href=#suppression class=md-nav__link> Suppression </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#agregations class=md-nav__link> Agrégations </a> </li> <li class=md-nav__item> <a href=#index-et-contraintes class=md-nav__link> Index et contraintes </a> </li> <li class=md-nav__item> <a href=#references-du-lanagage-cypher class=md-nav__link> Références du lanagage Cypher </a> <nav class=md-nav aria-label="Références du lanagage Cypher"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#types class=md-nav__link> Types </a> </li> <li class=md-nav__item> <a href=#operateurs class=md-nav__link> Opérateurs </a> </li> <li class=md-nav__item> <a href=#fonctions class=md-nav__link> Fonctions </a> </li> <li class=md-nav__item> <a href=#manipulation-de-bases-de-donnees class=md-nav__link> Manipulation de bases de données </a> </li> <li class=md-nav__item> <a href=#exercice class=md-nav__link> Exercice </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=etl.html class=md-nav__link> Importation de données </a> </li> <li class=md-nav__item> <a href=python.html class=md-nav__link> Pilote Python </a> </li> <li class=md-nav__item> <a href=cluster.html class=md-nav__link> Cluster Neo4j </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <p><img src=assets/images/cypher/cypher.svg width=30% height=40%></p> <h1 id=premiers-pas-avec-cypher>Premiers pas avec Cypher<a class=headerlink href=#premiers-pas-avec-cypher title="Permanent link">&para;</a></h1> <hr> <h2 id=base-de-donnees-exemple-movie-graph>Base de données exemple : Movie Graph<a class=headerlink href=#base-de-donnees-exemple-movie-graph title="Permanent link">&para;</a></h2> <h3 id=noeuds-et-relations>Noeuds et relations<a class=headerlink href=#noeuds-et-relations title="Permanent link">&para;</a></h3> <p>C'est une BD graphe disponible avec Neo4j pour apprendre Cypher. Elle modélise les relations entre 2 noeuds : </p> <ul> <li><strong>Person</strong> : représentant une personne et peut être un acteur, réalisateur, produteur ou un spectateur </li> <li><strong>Movie</strong> : un film</li> </ul> <p>Les relations possibles entre ces noeuds sont présentées dans le graphe ci-dessous.</p> <p><img src=assets/images/cypher/movie-schema.svg width=80% height=80%></p> <p>Ce graphe comporte 133 noeuds de type Person et 38 Movie.</p> <h3 id=proprietes>Propriétés<a class=headerlink href=#proprietes title="Permanent link">&para;</a></h3> <p>Les noeuds Movie possède les propriétés :</p> <ul> <li><em>title</em> : le titre du film qui est aussi son identifiant.</li> <li><em>tagline</em> : résumé du film.</li> <li><em>released</em> : date de parution du film.</li> </ul> <p>Les noeuds Person possède les propriétés :</p> <ul> <li><em>name</em> : le nom de la personne qui est aussi son identifiant.</li> <li><em>born</em> : année de naissabce.</li> </ul> <p>Les différentes relations possèdent aussi des propriétés :</p> <table> <thead> <tr> <th align=left>Relation</th> <th align=left>Propriétés</th> </tr> </thead> <tbody> <tr> <td align=left><em>ACTED_IN</em></td> <td align=left>propriété roles (liste des rôles d'un acteur dans un film)</td> </tr> <tr> <td align=left><em>DIRECTED</em></td> <td align=left>...</td> </tr> <tr> <td align=left><em>PRODUCED</em></td> <td align=left>...</td> </tr> <tr> <td align=left><em>WROTE</em></td> <td align=left>...</td> </tr> <tr> <td align=left><em>REVIEWED</em></td> <td align=left>propriétés rating (évaluation) et summary (un commentaire)</td> </tr> </tbody> </table> <h3 id=creer-la-base-de-donnees>Créer la base de données<a class=headerlink href=#creer-la-base-de-donnees title="Permanent link">&para;</a></h3> <p><img alt=1⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/31-20e3.svg title=:one:> Démarrer le guide de la base Movie Graph à partir du shell Neo4j</p> <div class=highlight><pre><span></span><code>:guide movie-graph
</code></pre></div> <p><img alt=guide src=assets/images/cypher/guide-moviegraph.png></p> <p><img alt=2⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/32-20e3.svg title=:two:> Cliquer sur Next puissur le bloc de code pour l'insérer dans le shell</p> <p><img alt="create movie-graph" src=assets/images/cypher/moviegraph-create.png></p> <p>Le code est disponible dans le fichier <a href=assets/movie-graph.cypher>movie-graph.cypher</a></p> <p><img alt=3⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/33-20e3.svg title=:three:> Exécuter le code <span class=twemoji style=color:#2596be><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></p> <p><img alt=3⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/33-20e3.svg title=:three:> Vérifier le graphe complet </p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>)</span><span class=w> </span><span class=k>RETURN</span><span class=w> </span><span class=n>n</span><span class=w></span>
</code></pre></div> <p><img alt=graphe src=assets/images/cypher/graph.png></p> <h2 id=pattern-cypher>Pattern Cypher<a class=headerlink href=#pattern-cypher title="Permanent link">&para;</a></h2> <p>Le langage Cypher utilise des symboles spécifiques pour représenter les éléments du graphe dans ses requêtes.</p> <p>Les neouds sont représentés par des parenthèses <mark><strong>()</strong></mark>. Pour désigner son type ou label on utilise <mark><strong>:</strong></mark> comme dans <mark>(:Person)</mark>.</p> <p>Les relation sont notées avec deux tirets reliant deux noeuds, par exemple : <mark><strong>(:Person)--(:Movie)</strong></mark>.</p> <p>La direction de la relation est indiquée avec &gt; ou &lt; , comme <mark><strong>(:Person)&rarr;(:Movie)</strong></mark> équivalent à <mark><strong>(:Movie)&larr;(:Person)</strong></mark>.</p> <p>Le type de la relation peut être ajouté entre les tirets entre crochets , par exemple <mark><strong>[:ACTED_IN]</strong></mark>.</p> <p>Les propriétés des noeuds et des relations sont ajoutés dans un bloc JSON.</p> <p>Des variables sont aussi ajoutées devant les labels comme <mark><strong>(n:Person)</strong></mark>.</p> <p>Pour des chemins de taille variable <mark><strong>(n:Person)-[*]-(b:Person)</strong></mark>.</p> <p>Pour des chemins de taille variable mais suivant un type de relation <mark><strong>(n:Person)-[:ACTED*]-(b:Person)</strong></mark>.</p> <p>Pour des chemins d'une taille spécifique <mark><strong>(n:Person)-[*3..5]-(b:Person)</strong></mark> (relation de niveau entre 3 et 5, la valeur 0 équivaut une absence de relation).</p> <details class=example open=open> <summary>Exemple Cypher pattern</summary> <p><div class=highlight><pre><span></span><code><span class=o>(</span>m:Movie <span class=o>{</span>title: <span class=s1>&#39;Cloud Atlas&#39;</span><span class=o>})</span>&lt;-<span class=o>[</span>:ACTED_IN<span class=o>]</span>-<span class=o>(</span>p:Person<span class=o>)</span>
</code></pre></div> Ce pattern représente tous les noeuds de type Person qui ont joué (ACTED_IN) dans le film, "Cloud Atlas".</p> </details> <details class=info open=open> <summary>Conventions</summary> <p>Voici quelques conventions à suivre avec Cypher :</p> <ul> <li>Un label commence par majuscule : <strong>Person</strong></li> <li>Une relation est toute en majuscules : <strong>ACTED_IN</strong></li> <li>Une propriété est en minuscule : <strong>birthDate</strong></li> </ul> </details> <h2 id=lecture-de-donnees>Lecture de données<a class=headerlink href=#lecture-de-donnees title="Permanent link">&para;</a></h2> <p>L'équivalent de <strong>SELECT</strong> dans Cypher est la commande <strong>MATCH</strong>.</p> <details class=hint open=open> <summary>Syntaxe MATCH</summary> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=n>patter_cypher</span><span class=w> </span>
<span class=p>[</span><span class=k>WHERE</span><span class=w> </span><span class=o>&lt;</span><span class=n>condition</span><span class=o>&gt;</span><span class=p>]</span><span class=w> </span>
<span class=k>RETURN</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression1</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=p>...</span><span class=w> </span>
<span class=p>[</span><span class=n>SKIP</span><span class=w> </span><span class=o>&lt;</span><span class=n>entier</span><span class=o>&gt;</span><span class=p>]</span><span class=w></span>
<span class=p>[</span><span class=k>LIMIT</span><span class=w> </span><span class=o>&lt;</span><span class=n>entier</span><span class=o>&gt;</span><span class=p>]</span><span class=w></span>
<span class=p>[</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=n>champ</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>DESC</span><span class=p>],</span><span class=w> </span><span class=p>...]</span><span class=w></span>
</code></pre></div> </details> <details class=hint open=open> <summary>Schéma de la BD</summary> <p>Visualiser le schéma de la base de données en cours permet de comprendre la structure du graphe de propriétés à manipuler avant de commencer à écrire des requêtes. Ce schéam peut être généré automatiquement avec la commande : <div class=highlight><pre><span></span><code><span class=k>CALL</span><span class=w> </span><span class=n>db</span><span class=p>.</span><span class=k>schema</span><span class=p>.</span><span class=n>visualization</span><span class=w></span>
</code></pre></div></p> </details> <p><img alt=1⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/31-20e3.svg title=:one:> Trouver tous les films</p> <p><div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=w> </span><span class=k>RETURN</span><span class=w> </span><span class=n>n</span><span class=w></span>
</code></pre></div> <img alt=Match1 src=assets/images/cypher/match1.png></p> <p><img alt=2⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/32-20e3.svg title=:two:> Trouver la date de sortie du film "The Matrix"</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>Movie</span><span class=w> </span><span class=err>{</span><span class=n>title</span><span class=p>:</span><span class=s1>&#39;The Matrix&#39;</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=k>RETURN</span><span class=w> </span><span class=n>n</span><span class=p>.</span><span class=n>released</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>année</span><span class=w></span>
</code></pre></div> <p>ou </p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>n</span><span class=p>.</span><span class=n>title</span><span class=o>=</span><span class=s1>&#39;The Matrix&#39;</span><span class=w> </span><span class=k>RETURN</span><span class=w> </span><span class=n>n</span><span class=p>.</span><span class=n>released</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>année</span><span class=w></span>
</code></pre></div> <p><img alt=Match2 src=assets/images/cypher/match2.png></p> <p><img alt=3⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/33-20e3.svg title=:three:> Trouver les films réalisés par "Clint Eastwood".</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=o>&lt;-</span><span class=p>[:</span><span class=n>DIRECTED</span><span class=p>]</span><span class=o>-</span><span class=p>(:</span><span class=n>Person</span><span class=w> </span><span class=err>{</span><span class=n>name</span><span class=p>:</span><span class=s1>&#39;Clint Eastwood&#39;</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=k>RETURN</span><span class=w> </span><span class=n>m</span><span class=w></span>
</code></pre></div> <p><img alt=Match3 src=assets/images/cypher/match3.png></p> <p><img alt=4⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/34-20e3.svg title=:four:> Trouver 3 films sortis avant 1980</p> <p><div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>m</span><span class=p>.</span><span class=n>released</span><span class=o>&lt;</span><span class=mi>2000</span><span class=w> </span><span class=k>RETURN</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>3</span><span class=w></span>
</code></pre></div> <img alt=Match4 src=assets/images/cypher/match4.png></p> <p><img alt=5⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/35-20e3.svg title=:five:> Trouver les acteurs dont le prénom est "Michael"</p> <p><div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>ACTED_IN</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>()</span><span class=w></span>
<span class=k>WHERE</span><span class=w> </span><span class=n>toLower</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=n>STARTS</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=s1>&#39;michael&#39;</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=w></span>
</code></pre></div> <img alt=Match5 src=assets/images/cypher/match5.png></p> <details class=hint open=open> <summary>Cypher multi-ligne</summary> <p>Pour écrire du code Cypher sur plusieurs ligne, utiliser <span class=keys><kbd class=key-shift>Shift</kbd><span>+</span><kbd class=key-enter>Enter</kbd></span> pour retourner à la ligne. Dans ce cas, pour exécuter le bloc appuyer sur <span class=keys><kbd class=key-control>Ctrl</kbd><span>+</span><kbd class=key-enter>Enter</kbd></span>.</p> </details> <p><img alt=6⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/36-20e3.svg title=:six:> Quels sont les réalisateurs qui ont aussi joué un rôle dans le même film qu'ils ont réalisé.</p> <p><div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>ACTED_IN</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=w></span>
<span class=k>WHERE</span><span class=w>  </span><span class=k>exists</span><span class=p>(</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>DIRECTED</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>)</span><span class=w> </span><span class=p>)</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>m</span><span class=w></span>
</code></pre></div> <img alt=Match6 src=assets/images/cypher/match6.png></p> <p><img alt=7⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/37-20e3.svg title=:seven:> Quels sont les commentaires laissés par les utilisateurs lors de l'évaluation du film "The Da Vinci Code".</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=o>-</span><span class=p>[</span><span class=n>r</span><span class=p>:</span><span class=n>REVIEWED</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=w></span>
<span class=k>WHERE</span><span class=w> </span><span class=n>m</span><span class=p>.</span><span class=n>title</span><span class=o>=</span><span class=s1>&#39;The Da Vinci Code&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>r</span><span class=p>.</span><span class=n>summary</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=n>r</span><span class=p>.</span><span class=n>summary</span><span class=w></span>
</code></pre></div> <p><img alt=Match7 src=assets/images/cypher/match7.png></p> <p><img alt=8⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/38-20e3.svg title=:eight:> Trouver les personnes qui suivies par personnes qu'une personne suit (follows).</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>FOLLOWS</span><span class=o>*</span><span class=mi>2</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>q</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=w> </span>
<span class=k>WHERE</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>&lt;&gt;</span><span class=w> </span><span class=n>q</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>Utilisateur</span><span class=p>,</span><span class=n>q</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>Second_niveau</span><span class=w></span>
</code></pre></div> <p><img alt=Match8 src=assets/images/cypher/match8.png></p> <h2 id=ecriture-de-donnees>Écriture de données<a class=headerlink href=#ecriture-de-donnees title="Permanent link">&para;</a></h2> <h3 id=insertion-de-noeuds>Insertion de noeuds<a class=headerlink href=#insertion-de-noeuds title="Permanent link">&para;</a></h3> <p>Pour créer des éléments de grpahe deux clauses sont utilisées par Cypher : <strong>CREATE</strong> et <strong>MERGE</strong>.</p> <p>La différence entre ces clause est que <strong>MERGE</strong> requiert la saisie d'une valeur pour l'identifiant et évite d'avoir des doublons.</p> <div class=highlight><pre><span></span><code><span class=k>CREATE</span><span class=o>|</span><span class=n>MERGE</span><span class=w> </span><span class=o>&lt;</span><span class=n>cypher_pattern</span><span class=o>&gt;</span><span class=w></span>
</code></pre></div> <p><img alt=1⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/31-20e3.svg title=:one:> Créer un nouveau noeud Person</p> <div class=highlight><pre><span></span><code><span class=n>MERGE</span><span class=w> </span><span class=p>(:</span><span class=n>Person</span><span class=w> </span><span class=err>{</span><span class=n>name</span><span class=p>:</span><span class=s1>&#39;Tom Cruise&#39;</span><span class=err>}</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p>Aucun noeud créé, parce qu'il est déjà existant.</p> <p><img alt=insert1 src=assets/images/cypher/insert1.png></p> <p><img alt=2⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/32-20e3.svg title=:two:> Créer une relation entre noeuds existants </p> <p>"Angela Scope" a évalué le film "Cloud Atlas" et a donné un rating=95</p> <p><div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>Person</span><span class=w> </span><span class=err>{</span><span class=n>name</span><span class=p>:</span><span class=s1>&#39;Angela Scopee&#39;</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=w> </span><span class=err>{</span><span class=n>title</span><span class=p>:</span><span class=s1>&#39;Cloud Atlas&#39;</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>REVIEWED</span><span class=w> </span><span class=err>{</span><span class=n>rating</span><span class=p>:</span><span class=mi>95</span><span class=err>}</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>)</span><span class=w></span>
</code></pre></div> <img alt=insert2 src=assets/images/cypher/insert2.png></p> <p><img alt=3⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/33-20e3.svg title=:three:> Créer une structure </p> <p>Ajouter un film 'Jurassic Park' sorti en 1993 et son réalisateur "Steven Spielberg".</p> <div class=highlight><pre><span></span><code><span class=n>MERGE</span><span class=w> </span><span class=p>(:</span><span class=n>Movie</span><span class=w> </span><span class=err>{</span><span class=n>title</span><span class=p>:</span><span class=s1>&#39;Jurassic Park&#39;</span><span class=p>,</span><span class=w> </span><span class=n>released</span><span class=p>:</span><span class=mi>1993</span><span class=err>}</span><span class=p>)</span><span class=o>&lt;-</span><span class=p>[:</span><span class=n>DIRECTED</span><span class=p>]</span><span class=o>-</span><span class=p>(:</span><span class=n>Person</span><span class=w> </span><span class=err>{</span><span class=n>name</span><span class=p>:</span><span class=s1>&#39;Steven Spielberg&#39;</span><span class=err>}</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p><img alt=insert3 src=assets/images/cypher/insert3.png></p> <h3 id=mise-a-jour-de-noeuds>Mise à jour de noeuds<a class=headerlink href=#mise-a-jour-de-noeuds title="Permanent link">&para;</a></h3> <p>La clause <strong>MERGE</strong> sert aussi à mettre à jour les propriétés d'un noeud exitant. Il est possible de faire la mise à jour en associant <strong>MATCH</strong> et <strong>SET</strong>. Cette dernière permet de modifier la valeur d'un propriété existante ou définir une nouvelle propriété. Pour supprimer une propriété c'est <strong>REMOVE</strong> qui est utilisée.</p> <p><img alt=1⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/31-20e3.svg title=:one:> Modifier l'éavluation de "Angela Scope" du film "Cloud Atlas" en 92</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>Person</span><span class=w> </span><span class=err>{</span><span class=n>name</span><span class=p>:</span><span class=s1>&#39;Angela Scopee&#39;</span><span class=err>}</span><span class=p>)</span><span class=o>-</span><span class=p>[</span><span class=n>r</span><span class=p>:</span><span class=n>REVIEWED</span><span class=w> </span><span class=err>{</span><span class=n>rating</span><span class=p>:</span><span class=mi>95</span><span class=err>}</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=w> </span><span class=err>{</span><span class=n>title</span><span class=p>:</span><span class=s1>&#39;Cloud Atlas&#39;</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>SET</span><span class=w> </span><span class=n>r</span><span class=p>.</span><span class=n>rating</span><span class=o>=</span><span class=mi>92</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=n>m</span><span class=p>,</span><span class=n>r</span><span class=w></span>
</code></pre></div> <p><img alt=update1 src=assets/images/cypher/update1.png></p> <p><img alt=2⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/32-20e3.svg title=:two:> Supprimer la propriété released du film 'Jurassic Park'. </p> <p><div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>m</span><span class=p>.</span><span class=n>title</span><span class=o>=</span><span class=s1>&#39;Jurassic Park&#39;</span><span class=w></span>
<span class=w>    </span><span class=n>REMOVE</span><span class=w> </span><span class=n>m</span><span class=p>.</span><span class=n>released</span><span class=w></span>
</code></pre></div> <img alt=update2 src=assets/images/cypher/update2.png></p> <p><img alt=3⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/33-20e3.svg title=:three:> Effectuer une mise à jour selon le comportenent de MERGE </p> <div class=highlight><pre><span></span><code><span class=o>//</span><span class=w> </span><span class=n>Trouver</span><span class=w> </span><span class=n>ou</span><span class=w> </span><span class=n>créer</span><span class=w> </span><span class=n>une</span><span class=w> </span><span class=n>personne</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Person</span><span class=w> </span><span class=err>{</span><span class=n>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;McKenna Grace&#39;</span><span class=err>}</span><span class=p>)</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=n>Ajouter</span><span class=w> </span><span class=n>cette</span><span class=w> </span><span class=n>propriété</span><span class=w> </span><span class=o>`</span><span class=n>createdAt</span><span class=o>`</span><span class=w> </span><span class=n>si</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>personne</span><span class=w> </span><span class=n>est</span><span class=w> </span><span class=n>créée</span><span class=w></span>
<span class=k>ON</span><span class=w> </span><span class=k>CREATE</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>createdAt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>datetime</span><span class=p>()</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=n>Ajouter</span><span class=w> </span><span class=n>lanpropriété</span><span class=w> </span><span class=o>`</span><span class=n>updatedAt</span><span class=o>`</span><span class=w> </span><span class=n>si</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>personne</span><span class=w> </span><span class=n>existe</span><span class=w> </span><span class=n>et</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>pas</span><span class=w> </span><span class=err>é</span><span class=n>té</span><span class=w> </span><span class=n>créée</span><span class=w></span>
<span class=k>ON</span><span class=w> </span><span class=k>MATCH</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>updatedAt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>datetime</span><span class=p>()</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=n>Dans</span><span class=w> </span><span class=n>tous</span><span class=w> </span><span class=n>les</span><span class=w> </span><span class=n>cas</span><span class=w> </span><span class=n>modifier</span><span class=w> </span><span class=n>la</span><span class=w> </span><span class=n>propriété</span><span class=w> </span><span class=o>`</span><span class=n>born</span><span class=o>`</span><span class=w></span>
<span class=k>SET</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>born</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2006</span><span class=w></span>

<span class=k>RETURN</span><span class=w> </span><span class=n>p</span><span class=w></span>
</code></pre></div> <p><img alt=update3 src=assets/images/cypher/update3.png></p> <p><img alt=4⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/34-20e3.svg title=:four:> Ajouter un label à noeud : ajouter le label <em>Actor</em> pour tous les Person qui ont au moins joué dans un film.</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=w></span>
<span class=k>WHERE</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=p>((</span><span class=n>p</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>DIRECTED</span><span class=p>]</span><span class=o>-</span><span class=p>())</span><span class=w></span>
<span class=k>SET</span><span class=w> </span><span class=n>p</span><span class=p>:</span><span class=n>Director</span><span class=w></span>
</code></pre></div> <p><img alt=update4 src=assets/images/cypher/update4.png></p> <details class=hint open=open> <summary>Refactoring</summary> <p>L'ajout de label est une technique utilisée pour optimiser les requêtes par "Refactoring" du graphe. C'est à dire changement du modèle de graphe. Dans l'exemple précédent, nous avons ajouté un label pour toute personne qui a réalisé au moins un film. Nous pouvons donc utiliser ce nouveau label pour interroger directement le graphe avec le pattern <strong>(d:Director)</strong>. Neo4j recommande un nombre maximal de 4 labels par noeuds.</p> <p>Les figures suivantes permettent de comparer les plans d'exécution des 2 requêtes :</p> <p><img alt=refactoring1 src=assets/images/cypher/refactoring1.png></p> <p><img alt=refactoring2 src=assets/images/cypher/refactoring2.png></p> </details> <p><img alt=4⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/34-20e3.svg title=:four:> Supprimer tous les labels Director</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Director</span><span class=p>)</span><span class=w></span>
<span class=n>REMOVE</span><span class=w> </span><span class=n>p</span><span class=p>:</span><span class=n>Director</span><span class=w></span>
</code></pre></div> <p><img alt=update4 src=assets/images/cypher/update4.png></p> <h3 id=suppression>Suppression<a class=headerlink href=#suppression title="Permanent link">&para;</a></h3> <p>C'est <strong>DELETE</strong> après avoir obtenu une référence vers l'élément à supprimer (avec MATCH par exemple).</p> <p><img alt=1⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/31-20e3.svg title=:one:> Supprimer le review de "Angela Scope" du film "Cloud Atlas".</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>Person</span><span class=w> </span><span class=err>{</span><span class=n>name</span><span class=p>:</span><span class=s1>&#39;Angela Scopee&#39;</span><span class=err>}</span><span class=p>)</span><span class=o>-</span><span class=p>[</span><span class=n>r</span><span class=p>:</span><span class=n>REVIEWED</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=w> </span><span class=err>{</span><span class=n>title</span><span class=p>:</span><span class=s1>&#39;Cloud Atlas&#39;</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>DELETE</span><span class=w> </span><span class=n>r</span><span class=w></span>
</code></pre></div> <p><img alt=delete1 src=assets/images/cypher/delete1.png></p> <details class=warning open=open> <summary>Suppression d'un noeud et ses relations</summary> <p>Quand un noeud possède des relation Neo4j empêche sa suppression. Pour supprimer automatiquement un noeud avec toutes ses relation, il faut utiliser <strong>DETACH DELETE</strong></p> </details> <h2 id=agregations>Agrégations<a class=headerlink href=#agregations title="Permanent link">&para;</a></h2> <p>Les agrégations sont calculés dans la clause <strong>RETURN</strong> à travers des fonctions comme : COUNT, SUM, AVG, MIN, MAX, ...</p> <p><img alt=1⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/31-20e3.svg title=:one:> Calculer le nombre de films dans le graphe</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>p</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>Total</span><span class=w></span>
</code></pre></div> <p><img alt=Agg1 src=assets/images/cypher/agg1.png></p> <p><img alt=2⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/32-20e3.svg title=:two:> Trouver le top 5 des acteurs et réalisateurs ayant le plus de collaborations</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>a</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>ACTED_IN</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=o>&lt;-</span><span class=p>[:</span><span class=n>DIRECTED</span><span class=p>]</span><span class=o>-</span><span class=p>(</span><span class=n>r</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>Acteur</span><span class=p>,</span><span class=w> </span><span class=n>r</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>Réalisateur</span><span class=p>,</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>collaborations</span><span class=w></span>
<span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>collaborations</span><span class=w> </span><span class=k>DESC</span><span class=w></span>
<span class=k>LIMIT</span><span class=w> </span><span class=mi>5</span><span class=w></span>
</code></pre></div> <p><img alt=Agg2 src=assets/images/cypher/agg2.png></p> <p><img alt=3⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/33-20e3.svg title=:three:> Pour chaque film afficher les acteurs et leur nombre</p> <div class=highlight><pre><span></span><code><span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=o>&lt;-</span><span class=p>[:</span><span class=n>ACTED_IN</span><span class=p>]</span><span class=o>-</span><span class=p>(</span><span class=n>a</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=n>m</span><span class=p>.</span><span class=n>title</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>Film</span><span class=p>,</span><span class=w> </span><span class=n>collect</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>casting</span><span class=p>,</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>nb_acteurs</span><span class=w></span>
</code></pre></div> <details class=info open=open> <summary><strong>collect</strong></summary> <p>La fonction <strong>collect</strong> permet de créer une liste des valeurs pour des structures de type parent-enfants ou 1-n. Dans cet exemple, un film (titre) a plusieurs acteurs. Collect permet de grouper les acteurs dans une liste pour ne pas répéter le film avec chaque acteur. C'est comme effectuer un GROUP BY sur le titre du film mais sans perdre le détail des enfants (acteurs).</p> </details> <p><img alt=Agg3 src=assets/images/cypher/agg3.png></p> <p><img alt=4⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/34-20e3.svg title=:four:> Quels sont les réalisateurs de films sortis en 2008, 2009 et 2010</p> <div class=highlight><pre><span></span><code><span class=k>WITH</span><span class=w> </span><span class=p>[</span><span class=mi>2008</span><span class=p>,</span><span class=w> </span><span class=mi>2009</span><span class=p>,</span><span class=w> </span><span class=mi>2010</span><span class=p>]</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>années</span><span class=w></span>
<span class=n>UNWIND</span><span class=w> </span><span class=n>années</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>an</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>r</span><span class=p>:</span><span class=n>Person</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>DIRECTED</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=w> </span><span class=err>{</span><span class=n>released</span><span class=p>:</span><span class=n>an</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>RETURN</span><span class=w> </span><span class=n>an</span><span class=p>,</span><span class=w> </span><span class=n>collect</span><span class=p>(</span><span class=n>r</span><span class=p>.</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>réalisateurs</span><span class=w></span>
</code></pre></div> <p><img alt=Agg4 src=assets/images/cypher/agg4.png></p> <h2 id=index-et-contraintes>Index et contraintes<a class=headerlink href=#index-et-contraintes title="Permanent link">&para;</a></h2> <p>Les index permettent d'accélérer les requêtes et sont un outil indispensabe pour l'optimisation des requêtes.</p> <p>Neo4j utilise 5 types d'index :</p> <ul> <li><strong>RANGE</strong></li> <li><strong>LOOKUP</strong></li> <li><strong>TEXT</strong></li> <li><strong>FULLTEXT</strong></li> <li><strong>POINT</strong></li> </ul> <div class=highlight><pre><span></span><code><span class=k>CREATE</span><span class=w> </span><span class=p>[</span><span class=n>RANGE</span><span class=o>|</span><span class=n>LOOKUP</span><span class=o>|</span><span class=nb>TEXT</span><span class=o>|</span><span class=n>FULLTEXT</span><span class=o>|</span><span class=n>POINT</span><span class=p>]</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=o>&lt;</span><span class=n>nom_index</span><span class=o>&gt;</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>label</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>l</span><span class=p>.</span><span class=n>prop1</span><span class=p>,</span><span class=w> </span><span class=p>...)</span><span class=w> </span>
</code></pre></div> <p><img alt=1⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/31-20e3.svg title=:one:> Créer un index sur la date de sortie d'un film</p> <p><div class=highlight><pre><span></span><code><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_film_released</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Movie</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>released</span><span class=p>)</span><span class=w></span>
</code></pre></div> <img alt=2⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/32-20e3.svg title=:two:> Afficher les index</p> <div class=highlight><pre><span></span><code><span class=k>SHOW</span><span class=w> </span><span class=n>INDEXES</span><span class=w></span>
</code></pre></div> <p><img alt=index src=assets/images/cypher/index.png></p> <p><img alt=3⃣ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/33-20e3.svg title=:three:> Ajouter une contrainte d'unicité d'une propriété </p> <div class=highlight><pre><span></span><code><span class=k>CREATE</span><span class=w> </span><span class=k>CONSTRAINT</span><span class=w> </span><span class=p>[</span><span class=k>constraint_name</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>IF</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>EXISTS</span><span class=p>]</span><span class=w></span>
<span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>:</span><span class=n>LabelName</span><span class=p>)</span><span class=w></span>
<span class=n>REQUIRE</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>.</span><span class=n>propertyName_1</span><span class=p>,</span><span class=w> </span><span class=err>…</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>.</span><span class=n>propertyName_n</span><span class=p>)</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>UNIQUE</span><span class=w></span>
<span class=p>[</span><span class=k>OPTIONS</span><span class=w> </span><span class=ss>&quot;{&quot;</span><span class=w> </span><span class=k>option</span><span class=p>:</span><span class=w> </span><span class=n>value</span><span class=p>[,</span><span class=w> </span><span class=p>...]</span><span class=w> </span><span class=ss>&quot;}&quot;</span><span class=p>]</span><span class=w></span>
</code></pre></div> <details class=warning open=open> <summary>Autres types de contraintes</summary> <p>D'autres contraintes sont disponibles mais uniquement dans la version Enterprise comme :</p> <ul> <li>Existence de propriété de noeud</li> <li>Existence de propriété de relation</li> <li>Contrainte Node Key</li> </ul> </details> <h2 id=references-du-lanagage-cypher>Références du lanagage Cypher<a class=headerlink href=#references-du-lanagage-cypher title="Permanent link">&para;</a></h2> <h3 id=types>Types<a class=headerlink href=#types title="Permanent link">&para;</a></h3> <p>Dans Neo4j, les types suivants sont supportés :</p> <ul> <li>Number</li> <li>String</li> <li>Boolean</li> <li>The spatial type Point</li> <li>Date, Time, LocalTime, DateTime, LocalDateTime et Duration</li> <li>Lsit et Map</li> </ul> <h3 id=operateurs>Opérateurs<a class=headerlink href=#operateurs title="Permanent link">&para;</a></h3> <table class="tableblock frame-all grid-all stretch"> <colgroup> <col style="width: 50%;"> <col style="width: 50%;"> </colgroup> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Aggregation operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>DISTINCT</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Property operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>.</code> for static property access, <code>[]</code> for dynamic property access, <code>=</code> for replacing all properties, <code>+=</code> for mutating specific properties</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Mathematical operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>^</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Comparison operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>=</code>, <code>&lt;&gt;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>IS NULL</code>, <code>IS NOT NULL</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>String-specific comparison operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>STARTS WITH</code>, <code>ENDS WITH</code>, <code>CONTAINS</code>, <code>=~</code> for regex matching</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Boolean operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>AND</code>, <code>OR</code>, <code>XOR</code>, <code>NOT</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>String operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>+</code> for concatenation</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Temporal operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>+</code> and <code>-</code> for operations between durations and temporal instants/durations, <code>*</code> and <code>/</code> for operations between durations and numbers</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Map operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>.</code> for static value access by key, <code>[]</code> for dynamic value access by key</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>List operators</p></td> <td class="tableblock halign-left valign-top"><p class=tableblock><code>+</code> for concatenation, <code>IN</code> to check existence of an element in a list, <code>[]</code> for accessing element(s) dynamically</p></td> </tr> </tbody> </table> <h3 id=fonctions>Fonctions<a class=headerlink href=#fonctions title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th align=left>Famille</th> <th align=left>Exemples</th> </tr> </thead> <tbody> <tr> <td align=left>Prédicats</td> <td align=left>all(), any(), exists(), isEmpty(), single()</td> </tr> <tr> <td align=left>String</td> <td align=left>left(), right(), substring(), trim(), toUpper(), toLower(), split(), replace(), ...</td> </tr> <tr> <td align=left>List/Map</td> <td align=left>keys(), labels(), nodes(), range(), relationships(), reverse(), size(), head(), last(), ...</td> </tr> <tr> <td align=left>Maths</td> <td align=left>abs(), ceil(), floor(), round(), rand(), isNaN(), ...</td> </tr> <tr> <td align=left>Agrégats</td> <td align=left>min(), max(), sum(), count(), avg(), stdev(), ...</td> </tr> <tr> <td align=left>Date/Time</td> <td align=left>date(), datetime(), time(), datetime.fromepochmillis(), duration(), duration.between(), ....</td> </tr> </tbody> </table> <h3 id=manipulation-de-bases-de-donnees>Manipulation de bases de données<a class=headerlink href=#manipulation-de-bases-de-donnees title="Permanent link">&para;</a></h3> <table class="tableblock frame-all grid-all stretch"> <caption class=title>Table 1. Database management command syntax</caption> <colgroup> <col style="width: 16.6666%;"> <col style="width: 83.3334%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Command</th> <th class="tableblock halign-left valign-top">Syntax</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Show Database</p></td> <td class="tableblock halign-left valign-top"><div class=content><div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">SHOW { DATABASE name | DATABASES | DEFAULT DATABASE | HOME DATABASE }
[WHERE expression]</code></pre> </div> </div> <div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">SHOW { DATABASE name | DATABASES | DEFAULT DATABASE | HOME DATABASE }
YIELD { * | field[, ...] } [ORDER BY field[, ...]] [SKIP n] [LIMIT n]
[WHERE expression]
[RETURN field[, ...] [ORDER BY field[, ...]] [SKIP n] [LIMIT n]]</code></pre> </div> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Create Database</p></td> <td class="tableblock halign-left valign-top"><div class=content><div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">CREATE DATABASE name [IF NOT EXISTS]
[TOPOLOGY n PRIMAR{Y|IES} [m SECONDAR{Y|IES}]]
[OPTIONS "{" option: value[, ...] "}"]
[WAIT [n [SEC[OND[S]]]]|NOWAIT]</code></pre> </div> </div> <div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">CREATE OR REPLACE DATABASE name
[TOPOLOGY n PRIMAR{Y|IES} [m SECONDAR{Y|IES}]]
[OPTIONS "{" option: value[, ...] "}"]
[WAIT [n [SEC[OND[S]]]]|NOWAIT]</code></pre> </div> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Create Composite Database</p></td> <td class="tableblock halign-left valign-top"><div class=content><div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">CREATE COMPOSITE DATABASE name [IF NOT EXISTS]
[WAIT [n [SEC[OND[S]]]]|NOWAIT]</code></pre> </div> </div> <div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">CREATE OR REPLACE COMPOSITE DATABASE name
[WAIT [n [SEC[OND[S]]]]|NOWAIT]</code></pre> </div> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Alter Database</p></td> <td class="tableblock halign-left valign-top"><div class=content><div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">ALTER DATABASE name [IF EXISTS]
{
SET ACCESS {READ ONLY | READ WRITE} |
SET TOPOLOGY n PRIMAR{Y|IES} [m SECONDAR{Y|IES}]
}</code></pre> </div> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Stop Database</p></td> <td class="tableblock halign-left valign-top"><div class=content><div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">STOP DATABASE name [WAIT [n [SEC[OND[S]]]]|NOWAIT]</code></pre> </div> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Start Database</p></td> <td class="tableblock halign-left valign-top"><div class=content><div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">START DATABASE name [WAIT [n [SEC[OND[S]]]]|NOWAIT]</code></pre> </div> </div></div></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>Drop Database</p></td> <td class="tableblock halign-left valign-top"><div class=content><div class=listingblock> <div class=content> <pre class="highlightjs highlight has-header"><code class="language-none hljs">DROP [COMPOSITE] DATABASE name [IF EXISTS] [{DUMP|DESTROY} [DATA]] [WAIT [n [SEC[OND[S]]]]|NOWAIT]</code></pre> </div> </div></div></td> </tr> </tbody> </table> <h3 id=exercice>Exercice<a class=headerlink href=#exercice title="Permanent link">&para;</a></h3> <p>Soit la base de données Northwind dont le schéma est le suivant :</p> <p><img alt=northwind src=assets/images/cypher/northwind.png></p> <ol> <li>Créer un nouveau container Neo4j pour l'exercice</li> <li>Imorter les données en exécutant le code suivant :</li> </ol> <p><div class=highlight><pre><span></span><code><span class=o>//</span><span class=w> </span><span class=n>tag</span><span class=p>::</span><span class=k>constraints</span><span class=p>[]</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>CONSTRAINT</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>o</span><span class=p>:</span><span class=k>Order</span><span class=p>)</span><span class=w> </span><span class=n>REQUIRE</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>orderID</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>;</span><span class=w></span>
<span class=o>//</span><span class=w> </span><span class=k>end</span><span class=p>::</span><span class=k>constraints</span><span class=p>[]</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=n>tag</span><span class=p>::</span><span class=n>indexes</span><span class=p>[]</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Product</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>productID</span><span class=p>);</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Product</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>productName</span><span class=p>);</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Category</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>categoryID</span><span class=p>);</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Employee</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>employeeID</span><span class=p>);</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Supplier</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>supplierID</span><span class=p>);</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Customer</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>customerID</span><span class=p>);</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>:</span><span class=n>Customer</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=p>(</span><span class=n>m</span><span class=p>.</span><span class=n>customerName</span><span class=p>);</span><span class=w></span>
<span class=o>//</span><span class=w> </span><span class=k>end</span><span class=p>::</span><span class=n>indexes</span><span class=p>[]</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=n>tag</span><span class=p>::</span><span class=n>nodes</span><span class=p>[]</span><span class=w></span>
<span class=o>//</span><span class=w> </span><span class=k>Create</span><span class=w> </span><span class=n>customers</span><span class=w></span>
<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/customers.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=p>(:</span><span class=n>Customer</span><span class=w> </span><span class=err>{</span><span class=n>companyName</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>CompanyName</span><span class=p>,</span><span class=w> </span><span class=n>customerID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>CustomerID</span><span class=p>,</span><span class=w> </span><span class=n>fax</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>Fax</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>Phone</span><span class=err>}</span><span class=p>);</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=k>Create</span><span class=w> </span><span class=n>products</span><span class=w></span>

<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/products.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=p>(:</span><span class=n>Product</span><span class=w> </span><span class=err>{</span><span class=n>productName</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>ProductName</span><span class=p>,</span><span class=w> </span><span class=n>productID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>ProductID</span><span class=p>,</span><span class=w> </span><span class=n>unitPrice</span><span class=p>:</span><span class=w> </span><span class=n>toFloat</span><span class=p>(</span><span class=k>row</span><span class=p>.</span><span class=n>UnitPrice</span><span class=p>)</span><span class=err>}</span><span class=p>);</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=k>Create</span><span class=w> </span><span class=n>suppliers</span><span class=w></span>

<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/suppliers.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=p>(:</span><span class=n>Supplier</span><span class=w> </span><span class=err>{</span><span class=n>companyName</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>CompanyName</span><span class=p>,</span><span class=w> </span><span class=n>supplierID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>SupplierID</span><span class=err>}</span><span class=p>);</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=k>Create</span><span class=w> </span><span class=n>employees</span><span class=w></span>

<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/employees.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=p>(:</span><span class=n>Employee</span><span class=w> </span><span class=err>{</span><span class=n>employeeID</span><span class=p>:</span><span class=k>row</span><span class=p>.</span><span class=n>EmployeeID</span><span class=p>,</span><span class=w>  </span><span class=n>firstName</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>FirstName</span><span class=p>,</span><span class=w> </span><span class=n>lastName</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>LastName</span><span class=p>,</span><span class=w> </span><span class=n>title</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>Title</span><span class=err>}</span><span class=p>);</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=k>Create</span><span class=w> </span><span class=n>categories</span><span class=w></span>

<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/categories.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>CREATE</span><span class=w> </span><span class=p>(:</span><span class=n>Category</span><span class=w> </span><span class=err>{</span><span class=n>categoryID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>CategoryID</span><span class=p>,</span><span class=w> </span><span class=n>categoryName</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>CategoryName</span><span class=p>,</span><span class=w> </span><span class=n>description</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>Description</span><span class=err>}</span><span class=p>);</span><span class=w></span>


<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/orders.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=k>order</span><span class=p>:</span><span class=k>Order</span><span class=w> </span><span class=err>{</span><span class=n>orderID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>OrderID</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>CREATE</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=k>order</span><span class=p>.</span><span class=n>shipName</span><span class=w> </span><span class=o>=</span><span class=w>  </span><span class=k>row</span><span class=p>.</span><span class=n>ShipName</span><span class=p>;</span><span class=w></span>
<span class=o>//</span><span class=w> </span><span class=k>end</span><span class=p>::</span><span class=n>nodes</span><span class=p>[]</span><span class=w></span>




<span class=o>//</span><span class=w> </span><span class=n>tag</span><span class=p>::</span><span class=n>rels_orders</span><span class=p>[]</span><span class=w></span>

<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/orders.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=k>order</span><span class=p>:</span><span class=k>Order</span><span class=w> </span><span class=err>{</span><span class=n>orderID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>OrderID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>product</span><span class=p>:</span><span class=n>Product</span><span class=w> </span><span class=err>{</span><span class=n>productID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>ProductID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=k>order</span><span class=p>)</span><span class=o>-</span><span class=p>[</span><span class=n>pu</span><span class=p>:</span><span class=n>PRODUCT</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>product</span><span class=p>)</span><span class=w></span>
<span class=k>ON</span><span class=w> </span><span class=k>CREATE</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>pu</span><span class=p>.</span><span class=n>unitPrice</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>toFloat</span><span class=p>(</span><span class=k>row</span><span class=p>.</span><span class=n>UnitPrice</span><span class=p>),</span><span class=w> </span><span class=n>pu</span><span class=p>.</span><span class=n>quantity</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>toFloat</span><span class=p>(</span><span class=k>row</span><span class=p>.</span><span class=n>Quantity</span><span class=p>);</span><span class=w></span>


<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/orders.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=k>order</span><span class=p>:</span><span class=k>Order</span><span class=w> </span><span class=err>{</span><span class=n>orderID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>OrderID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>employee</span><span class=p>:</span><span class=n>Employee</span><span class=w> </span><span class=err>{</span><span class=n>employeeID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>EmployeeID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=n>employee</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>SOLD</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=k>order</span><span class=p>);</span><span class=w></span>


<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/orders.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=k>order</span><span class=p>:</span><span class=k>Order</span><span class=w> </span><span class=err>{</span><span class=n>orderID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>OrderID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>customer</span><span class=p>:</span><span class=n>Customer</span><span class=w> </span><span class=err>{</span><span class=n>customerID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>CustomerID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=n>customer</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>PURCHASED</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=k>order</span><span class=p>);</span><span class=w></span>
<span class=o>//</span><span class=w> </span><span class=k>end</span><span class=p>::</span><span class=n>rels_orders</span><span class=p>[]</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=n>tag</span><span class=p>::</span><span class=n>rels_products</span><span class=p>[]</span><span class=w></span>

<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/products.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>product</span><span class=p>:</span><span class=n>Product</span><span class=w> </span><span class=err>{</span><span class=n>productID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>ProductID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>supplier</span><span class=p>:</span><span class=n>Supplier</span><span class=w> </span><span class=err>{</span><span class=n>supplierID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>SupplierID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=n>supplier</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>SUPPLIES</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>product</span><span class=p>);</span><span class=w></span>


<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/products.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>product</span><span class=p>:</span><span class=n>Product</span><span class=w> </span><span class=err>{</span><span class=n>productID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>ProductID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>category</span><span class=p>:</span><span class=n>Category</span><span class=w> </span><span class=err>{</span><span class=n>categoryID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>CategoryID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=n>product</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>PART_OF</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>category</span><span class=p>);</span><span class=w></span>
<span class=o>//</span><span class=w> </span><span class=k>end</span><span class=p>::</span><span class=n>rels_products</span><span class=p>[]</span><span class=w></span>

<span class=o>//</span><span class=w> </span><span class=n>tag</span><span class=p>::</span><span class=n>rels_employees</span><span class=p>[]</span><span class=w></span>

<span class=k>LOAD</span><span class=w> </span><span class=n>CSV</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>HEADERS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=ss>&quot;https://github.com/neo4j-documentation/developer-resources/raw/gh-pages/data/northwind/employees.csv&quot;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>row</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>employee</span><span class=p>:</span><span class=n>Employee</span><span class=w> </span><span class=err>{</span><span class=n>employeeID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>EmployeeID</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=k>MATCH</span><span class=w> </span><span class=p>(</span><span class=n>manager</span><span class=p>:</span><span class=n>Employee</span><span class=w> </span><span class=err>{</span><span class=n>employeeID</span><span class=p>:</span><span class=w> </span><span class=k>row</span><span class=p>.</span><span class=n>ReportsTo</span><span class=err>}</span><span class=p>)</span><span class=w></span>
<span class=n>MERGE</span><span class=w> </span><span class=p>(</span><span class=n>employee</span><span class=p>)</span><span class=o>-</span><span class=p>[:</span><span class=n>REPORTS_TO</span><span class=p>]</span><span class=o>-&gt;</span><span class=p>(</span><span class=n>manager</span><span class=p>);</span><span class=w></span>
<span class=o>//</span><span class=w> </span><span class=k>end</span><span class=p>::</span><span class=n>rels_employees</span><span class=p>[]</span><span class=w></span>
</code></pre></div> 3. Répondre aux requêtes suivantes : 1. Trouver les produits et leurs prix. 1. Trouver les informations sur les produits 'Chocolade' &amp; 'Pavlova'. 1. Trouver les informations sur les produits dont le nom commence par "C” et le prix &gt;50. 1. Requête précédente en considérant "sales price" au lieu du prix du produit. 1. Montant Total des achats par client et produit. 1. Top 10 des employés selon les commandes vendues. 1. Un employé est rattaché à combien de personnes de façon directe ou indirecte. 1. À qui les personnes nommées “Robert” sont-ils rattachées. 1. Qui n'a pas de personne à qui il rattachée ? 1. Trouver les fournisseurs (Suppliers), le nombre de catégories qu'ils fournissent et la liste de ces catégories. 1. Le client qui a acheté le plus grand montant de la catégorie "beverages". 1. Les 5 produits les plus populaires selon le nombre de commandes.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Retour en haut de la page </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label="Pied de page"> <a href=installation.html class="md-footer__link md-footer__link--prev" aria-label="Précédent: Installation" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Précédent </span> Installation </div> </div> </a> <a href=etl.html class="md-footer__link md-footer__link--next" aria-label="Suivant: Importation de données" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Suivant </span> Importation de données </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 - Dr. Hmida Hmida </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://gitlab.com/hhmida target=_blank rel=noopener title=gitlab.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81-2.9-.295-5.7.083-8.4 1.11-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.09 18.09 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3 4.7 0 9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82z"/></svg> </a> <a href=https://github.com/hhmida target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://linkedin.com/in/hhmida target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": ".", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "toc.integrate", "content.code.annotate"], "search": "assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version.title": "S\u00e9lectionner la version"}}</script> <script src=assets/javascripts/bundle.2ab50757.min.js></script> </body> </html>